<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>De Waardigheidsdriehoek</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,wght@0,400;0,600;1,400&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        /* Reset voor WordPress compatibiliteit */
        .wdd-container,
        .wdd-container * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .wdd-container {
            --wdd-intrinsiek: #C45A20;
            --wdd-relationeel: #2E7D5A;
            --wdd-competentie: #1E5A8A;
            --wdd-warm-bg: #FFFDF9;
            --wdd-text-dark: #1A1A1A;
            --wdd-text-muted: #4A4540;
            --wdd-accent: #8B4513;
            --wdd-card-bg: #FFFFFF;
            --wdd-border-light: #E0DCD5;
            
            font-family: 'Source Sans 3', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--wdd-warm-bg);
            color: var(--wdd-text-dark);
            line-height: 1.7;
            font-size: 18px;
            max-width: 1100px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        /* Intro Section */
        .wdd-intro-section {
            background: var(--wdd-card-bg);
            border: 2px solid var(--wdd-border-light);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin-bottom: 1.5rem;
        }

        .wdd-intro-text {
            font-size: 1.1rem;
            color: var(--wdd-text-dark);
            margin-bottom: 1rem;
        }

        .wdd-intro-text strong {
            color: var(--wdd-accent);
        }

        .wdd-intro-detail {
            font-size: 1rem;
            color: var(--wdd-text-muted);
            padding-left: 1rem;
            border-left: 3px solid var(--wdd-accent);
        }

        /* Steps Legend */
        .wdd-steps-legend {
            background: linear-gradient(135deg, #F5F0E8, #FFF8F0);
            border: 2px solid var(--wdd-border-light);
            border-radius: 12px;
            padding: 1.25rem 1.5rem;
            margin-bottom: 2rem;
        }

        .wdd-steps-title {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--wdd-accent);
            margin-bottom: 0.75rem;
        }

        .wdd-steps-list {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem 2rem;
            list-style: none;
        }

        .wdd-steps-list li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
            color: var(--wdd-text-dark);
        }

        .wdd-step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            min-width: 28px;
            background: var(--wdd-accent);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            font-size: 0.95rem;
        }

        /* Main Content Grid */
        .wdd-main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        @media (max-width: 900px) {
            .wdd-main-content {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        /* Triangle Visualization */
        .wdd-triangle-section {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .wdd-triangle-container {
            position: relative;
            width: 100%;
            max-width: 450px;
        }

        .wdd-triangle-svg {
            width: 100%;
            height: auto;
            display: block;
        }

        .wdd-triangle-bg {
            fill: rgba(0,0,0,0.03);
            stroke: #CCCCCC;
            stroke-width: 2;
            stroke-dasharray: 8, 4;
        }

        .wdd-triangle-fill {
            fill: url(#wddTriangleGradient);
            opacity: 0.5;
            transition: all 0.4s ease-out;
        }

        .wdd-triangle-stroke {
            fill: none;
            stroke: #8B4513;
            stroke-width: 3;
            stroke-linecap: round;
            stroke-linejoin: round;
            transition: all 0.4s ease-out;
        }

        .wdd-vertex-dot {
            transition: all 0.3s ease;
        }

        .wdd-vertex-label {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 16px;
            font-weight: 600;
            fill: #1A1A1A;
        }

        .wdd-vertex-sublabel {
            font-size: 13px;
            fill: #4A4540;
        }

        .wdd-score-display {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 28px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .wdd-center-label {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 13px;
            fill: #4A4540;
        }

        /* Poot descriptions */
        .wdd-poot-descriptions {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
            margin-top: 1rem;
            padding: 1rem;
            background: var(--wdd-card-bg);
            border: 2px solid var(--wdd-border-light);
            border-radius: 10px;
        }

        .wdd-poot-desc {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.5rem;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .wdd-poot-icon {
            flex-shrink: 0;
            width: 32px;
            height: 32px;
            min-width: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: white;
            font-weight: bold;
        }

        .wdd-poot-icon-i { background: #C45A20; }
        .wdd-poot-icon-r { background: #2E7D5A; }
        .wdd-poot-icon-c { background: #1E5A8A; }

        .wdd-poot-text {
            color: var(--wdd-text-muted);
        }

        .wdd-poot-text strong {
            color: var(--wdd-text-dark);
        }

        /* Controls Section */
        .wdd-controls-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .wdd-situation-input {
            background: var(--wdd-card-bg);
            border: 2px solid var(--wdd-border-light);
            border-radius: 10px;
            padding: 1.25rem;
        }

        .wdd-situation-input label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: 'Source Serif 4', Georgia, serif;
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            color: var(--wdd-text-dark);
        }

        .wdd-situation-input textarea {
            width: 100%;
            border: 2px solid var(--wdd-border-light);
            border-radius: 8px;
            padding: 0.875rem;
            font-family: 'Source Sans 3', sans-serif;
            font-size: 1rem;
            resize: vertical;
            min-height: 80px;
            transition: border-color 0.2s;
            line-height: 1.6;
            background: white;
        }

        .wdd-situation-input textarea:focus {
            outline: none;
            border-color: var(--wdd-accent);
        }

        .wdd-slider-group {
            background: var(--wdd-card-bg);
            border: 2px solid var(--wdd-border-light);
            border-radius: 10px;
            padding: 1.25rem;
            transition: box-shadow 0.2s;
        }

        .wdd-slider-group:hover {
            box-shadow: 0 4px 16px rgba(0,0,0,0.08);
        }

        .wdd-slider-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .wdd-slider-icon {
            width: 40px;
            height: 40px;
            min-width: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: white;
        }

        .wdd-slider-icon-i { background: #C45A20; }
        .wdd-slider-icon-r { background: #2E7D5A; }
        .wdd-slider-icon-c { background: #1E5A8A; }

        .wdd-slider-title {
            font-family: 'Source Serif 4', Georgia, serif;
            font-weight: 600;
            font-size: 1.15rem;
            color: var(--wdd-text-dark);
        }

        .wdd-slider-subtitle {
            font-size: 0.95rem;
            color: var(--wdd-text-muted);
            margin-top: 0.15rem;
        }

        .wdd-slider-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0 0.75rem;
        }

        .wdd-slider-value {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 1.75rem;
            font-weight: 600;
            min-width: 3rem;
            text-align: center;
            color: #8B4513;
        }

        /* Slider styling - meer specifiek voor WordPress */
        .wdd-range-slider {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            flex: 1;
            height: 12px;
            border-radius: 6px;
            background: #E0DCD5;
            cursor: pointer;
            border: none;
            outline: none;
            margin: 0;
            padding: 0;
        }

        .wdd-range-slider::-webkit-slider-runnable-track {
            height: 12px;
            border-radius: 6px;
            background: #E0DCD5;
        }

        .wdd-range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #8B4513;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            margin-top: -9px;
        }

        .wdd-range-slider::-moz-range-track {
            height: 12px;
            border-radius: 6px;
            background: #E0DCD5;
            border: none;
        }

        .wdd-range-slider::-moz-range-thumb {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #8B4513;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .wdd-reflection-input input {
            width: 100%;
            border: none;
            border-bottom: 2px solid var(--wdd-border-light);
            padding: 0.625rem 0;
            font-family: 'Source Sans 3', sans-serif;
            font-size: 1rem;
            background: transparent;
            transition: border-color 0.2s;
            outline: none;
        }

        .wdd-reflection-input input:focus {
            border-color: var(--wdd-accent);
        }

        .wdd-reflection-input input::placeholder {
            color: #888;
            font-style: italic;
        }

        /* Summary Section */
        .wdd-summary-section {
            margin-top: 2rem;
        }

        .wdd-summary-card {
            background: var(--wdd-card-bg);
            border: 2px solid var(--wdd-border-light);
            border-radius: 12px;
            padding: 1.75rem;
            text-align: center;
        }

        .wdd-summary-title {
            font-family: 'Source Serif 4', Georgia, serif;
            font-size: 1.35rem;
            font-weight: 600;
            margin-bottom: 1.25rem;
            color: var(--wdd-text-dark);
        }

        .wdd-balance-indicator {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .wdd-balance-item {
            text-align: center;
        }

        .wdd-balance-bar {
            width: 80px;
            height: 12px;
            background: #E0DCD5;
            border-radius: 6px;
            overflow: hidden;
            margin: 0.5rem auto;
        }

        .wdd-balance-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.4s ease;
        }

        .wdd-balance-fill-i { background: #C45A20; }
        .wdd-balance-fill-r { background: #2E7D5A; }
        .wdd-balance-fill-c { background: #1E5A8A; }

        .wdd-balance-label {
            font-size: 0.95rem;
            color: var(--wdd-text-dark);
            font-weight: 500;
        }

        .wdd-insight-text {
            font-family: 'Source Serif 4', Georgia, serif;
            font-style: italic;
            color: var(--wdd-text-muted);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.7;
            padding: 1rem;
            background: #FDF8F0;
            border-radius: 8px;
            border-left: 4px solid var(--wdd-accent);
        }

        /* Reset Button */
        .wdd-reset-btn {
            display: block;
            margin: 1.5rem auto 0;
            padding: 0.875rem 2rem;
            background: transparent;
            border: 2px solid #8B4513;
            color: #8B4513;
            font-family: 'Source Sans 3', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .wdd-reset-btn:hover {
            background: #8B4513;
            color: white;
        }

        /* Footer */
        .wdd-footer {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1.25rem;
            border-top: 2px solid var(--wdd-border-light);
            color: var(--wdd-text-muted);
            font-size: 0.95rem;
        }
    </style>
</head>
<body>
    <div class="wdd-container">
        <!-- Intro -->
        <div class="wdd-intro-section">
            <p class="wdd-intro-text">
                <strong>Waardigheid rust op drie poten.</strong> Schuif aan de sliders om te ontdekken waar jouw waardigheid lekt ‚Äî en waar hij voedt.
            </p>
            <p class="wdd-intro-detail">
                Een 'gezonde' waardigheidsdriehoek is gebalanceerd tussen de drie poten. Als √©√©n van de poten wegvalt dan 'wiebelt' het en kan onrust ontstaan. Als twee poten wegvallen gaan mensen 'compenseren' (harder roepen, harder werken, terugtrekken, harder haten... en wie weet wat nog meer...).
            </p>
        </div>

        <!-- Steps Legend -->
        <div class="wdd-steps-legend">
            <div class="wdd-steps-title">Hoe werkt het?</div>
            <ul class="wdd-steps-list">
                <li><span class="wdd-step-number">1</span> Beschrijf een situatie waarin je je klein √≥f waardig voelde</li>
                <li><span class="wdd-step-number">2</span> Scoor elke poot van 0 tot 10</li>
                <li><span class="wdd-step-number">3</span> Noteer wat de score hoger of lager maakte</li>
                <li><span class="wdd-step-number">4</span> Bekijk je inzicht onderaan</li>
            </ul>
        </div>

        <div class="wdd-main-content">
            <div class="wdd-triangle-section">
                <div class="wdd-triangle-container">
                    <svg class="wdd-triangle-svg" viewBox="0 0 400 420">
                        <defs>
                            <linearGradient id="wddTriangleGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#C45A20;stop-opacity:0.7" />
                                <stop offset="50%" style="stop-color:#2E7D5A;stop-opacity:0.7" />
                                <stop offset="100%" style="stop-color:#1E5A8A;stop-opacity:0.7" />
                            </linearGradient>
                        </defs>
                        
                        <!-- Background triangle (maximum size - dashed outline) -->
                        <polygon class="wdd-triangle-bg" points="200,40 40,360 360,360"/>
                        
                        <!-- Center point marker -->
                        <circle cx="200" cy="253" r="4" fill="#999"/>
                        <text class="wdd-center-label" x="200" y="275" text-anchor="middle">centrum</text>
                        
                        <!-- Dynamic triangle -->
                        <polygon id="wddDynamicTriangle" class="wdd-triangle-fill" points="200,147 120,307 280,307"/>
                        <polygon id="wddDynamicTriangleStroke" class="wdd-triangle-stroke" points="200,147 120,307 280,307"/>
                        
                        <!-- Vertex: Intrinsiek (top) -->
                        <g transform="translate(200, 40)">
                            <circle class="wdd-vertex-dot" r="14" fill="#C45A20"/>
                            <text class="wdd-vertex-label" y="-28" text-anchor="middle">Intrinsiek</text>
                            <text class="wdd-vertex-sublabel" y="-12" text-anchor="middle">mens-zijn</text>
                            <text id="wddScoreIntrinsiek" class="wdd-score-display" y="55" text-anchor="middle" fill="#C45A20">5</text>
                        </g>
                        
                        <!-- Vertex: Relationeel (bottom-left) -->
                        <g transform="translate(40, 360)">
                            <circle class="wdd-vertex-dot" r="14" fill="#2E7D5A"/>
                            <text class="wdd-vertex-label" x="0" y="32" text-anchor="middle">Relationeel</text>
                            <text class="wdd-vertex-sublabel" x="0" y="48" text-anchor="middle">gezien worden</text>
                            <text id="wddScoreRelationeel" class="wdd-score-display" x="70" y="-20" text-anchor="middle" fill="#2E7D5A">5</text>
                        </g>
                        
                        <!-- Vertex: Competentie (bottom-right) -->
                        <g transform="translate(360, 360)">
                            <circle class="wdd-vertex-dot" r="14" fill="#1E5A8A"/>
                            <text class="wdd-vertex-label" x="0" y="32" text-anchor="middle">Competentie</text>
                            <text class="wdd-vertex-sublabel" x="0" y="48" text-anchor="middle">grip & bijdrage</text>
                            <text id="wddScoreCompetentie" class="wdd-score-display" x="-70" y="-20" text-anchor="middle" fill="#1E5A8A">5</text>
                        </g>
                    </svg>
                </div>

                <!-- Poot Descriptions -->
                <div class="wdd-poot-descriptions">
                    <div class="wdd-poot-desc">
                        <div class="wdd-poot-icon wdd-poot-icon-i">I</div>
                        <div class="wdd-poot-text">
                            <strong>Intrinsiek:</strong> Niet verdienbaar, niet af te pakken zonder morele schade. Dit is het 'je hoeft niks te bewijzen'-gevoel.
                        </div>
                    </div>
                    <div class="wdd-poot-desc">
                        <div class="wdd-poot-icon wdd-poot-icon-r">R</div>
                        <div class="wdd-poot-text">
                            <strong>Relationeel:</strong> Waardigheid als iets wat tussen mensen gebeurt: niet onzichtbaar. En ja: ook ergens bij horen.
                        </div>
                    </div>
                    <div class="wdd-poot-desc">
                        <div class="wdd-poot-icon wdd-poot-icon-c">C</div>
                        <div class="wdd-poot-text">
                            <strong>Competentie:</strong> Waardigheid als 'Ik kan iets'. Werk is hier vaak de snelweg maar niet de enige weg.
                        </div>
                    </div>
                </div>
            </div>

            <div class="wdd-controls-section">
                <div class="wdd-situation-input">
                    <label>
                        <span class="wdd-step-number" style="width:24px;height:24px;min-width:24px;font-size:0.85rem;">1</span>
                        Beschrijf je situatie
                    </label>
                    <textarea id="wddSituation" placeholder="Denk aan een moment deze week waarin je je klein √≥f juist waardig voelde..."></textarea>
                </div>

                <div class="wdd-slider-group">
                    <div class="wdd-slider-header">
                        <div class="wdd-slider-icon wdd-slider-icon-i">üå±</div>
                        <div>
                            <div class="wdd-slider-title">Intrinsiek</div>
                            <div class="wdd-slider-subtitle">Waardigheid omdat je mens bent, punt.</div>
                        </div>
                    </div>
                    <div class="wdd-slider-wrapper">
                        <span class="wdd-slider-value" id="wddValueIntrinsiek">5</span>
                        <input type="range" class="wdd-range-slider" id="wddSliderIntrinsiek" min="0" max="10" value="5">
                    </div>
                    <div class="wdd-reflection-input">
                        <input type="text" id="wddReflectieIntrinsiek" placeholder="Wat maakte dit hoger of lager?">
                    </div>
                </div>

                <div class="wdd-slider-group">
                    <div class="wdd-slider-header">
                        <div class="wdd-slider-icon wdd-slider-icon-r">üëÅÔ∏è</div>
                        <div>
                            <div class="wdd-slider-title">Relationeel</div>
                            <div class="wdd-slider-subtitle">Gezien worden, erbij horen, serieus genomen.</div>
                        </div>
                    </div>
                    <div class="wdd-slider-wrapper">
                        <span class="wdd-slider-value" id="wddValueRelationeel">5</span>
                        <input type="range" class="wdd-range-slider" id="wddSliderRelationeel" min="0" max="10" value="5">
                    </div>
                    <div class="wdd-reflection-input">
                        <input type="text" id="wddReflectieRelationeel" placeholder="Wat maakte dit hoger of lager?">
                    </div>
                </div>

                <div class="wdd-slider-group">
                    <div class="wdd-slider-header">
                        <div class="wdd-slider-icon wdd-slider-icon-c">‚ö°</div>
                        <div>
                            <div class="wdd-slider-title">Competentie</div>
                            <div class="wdd-slider-subtitle">Ik kan iets, ik draag bij, ik heb grip.</div>
                        </div>
                    </div>
                    <div class="wdd-slider-wrapper">
                        <span class="wdd-slider-value" id="wddValueCompetentie">5</span>
                        <input type="range" class="wdd-range-slider" id="wddSliderCompetentie" min="0" max="10" value="5">
                    </div>
                    <div class="wdd-reflection-input">
                        <input type="text" id="wddReflectieCompetentie" placeholder="Wat maakte dit hoger of lager?">
                    </div>
                </div>
            </div>
        </div>

        <div class="wdd-summary-section">
            <div class="wdd-summary-card">
                <div class="wdd-summary-title">Jouw Waardigheidsbalans</div>
                <div class="wdd-balance-indicator">
                    <div class="wdd-balance-item">
                        <div class="wdd-balance-label">Intrinsiek</div>
                        <div class="wdd-balance-bar">
                            <div class="wdd-balance-fill wdd-balance-fill-i" id="wddBalanceIntrinsiek" style="width: 50%"></div>
                        </div>
                    </div>
                    <div class="wdd-balance-item">
                        <div class="wdd-balance-label">Relationeel</div>
                        <div class="wdd-balance-bar">
                            <div class="wdd-balance-fill wdd-balance-fill-r" id="wddBalanceRelationeel" style="width: 50%"></div>
                        </div>
                    </div>
                    <div class="wdd-balance-item">
                        <div class="wdd-balance-label">Competentie</div>
                        <div class="wdd-balance-bar">
                            <div class="wdd-balance-fill wdd-balance-fill-c" id="wddBalanceCompetentie" style="width: 50%"></div>
                        </div>
                    </div>
                </div>
                <p class="wdd-insight-text" id="wddInsightText">
                    Schuif aan de sliders om je driehoek vorm te geven. 
                    Geen score is "goed" of "fout" ‚Äî het gaat om bewustzijn.
                </p>
                <button type="button" class="wdd-reset-btn" id="wddResetBtn">‚Ü∫ Begin opnieuw</button>
            </div>
        </div>

        <div class="wdd-footer">
            <p>Gebaseerd op het concept van de Waardigheidsdriehoek</p>
        </div>
    </div>

    <script>
    (function() {
        'use strict';
        
        // Wait for DOM to be fully loaded
        function initWaardigheidsdriehoek() {
            // Triangle geometry - fixed vertices for the MAXIMUM triangle (score 10)
            var vertices = {
                intrinsiek: { x: 200, y: 40 },
                relationeel: { x: 40, y: 360 },
                competentie: { x: 360, y: 360 }
            };
            
            // Center point of the triangle
            var center = {
                x: (vertices.intrinsiek.x + vertices.relationeel.x + vertices.competentie.x) / 3,
                y: (vertices.intrinsiek.y + vertices.relationeel.y + vertices.competentie.y) / 3
            };
            
            // Get DOM elements
            var sliderIntrinsiek = document.getElementById('wddSliderIntrinsiek');
            var sliderRelationeel = document.getElementById('wddSliderRelationeel');
            var sliderCompetentie = document.getElementById('wddSliderCompetentie');
            
            var valueIntrinsiek = document.getElementById('wddValueIntrinsiek');
            var valueRelationeel = document.getElementById('wddValueRelationeel');
            var valueCompetentie = document.getElementById('wddValueCompetentie');
            
            var scoreIntrinsiek = document.getElementById('wddScoreIntrinsiek');
            var scoreRelationeel = document.getElementById('wddScoreRelationeel');
            var scoreCompetentie = document.getElementById('wddScoreCompetentie');
            
            var balanceIntrinsiek = document.getElementById('wddBalanceIntrinsiek');
            var balanceRelationeel = document.getElementById('wddBalanceRelationeel');
            var balanceCompetentie = document.getElementById('wddBalanceCompetentie');
            
            var dynamicTriangle = document.getElementById('wddDynamicTriangle');
            var dynamicTriangleStroke = document.getElementById('wddDynamicTriangleStroke');
            var insightText = document.getElementById('wddInsightText');
            var resetBtn = document.getElementById('wddResetBtn');
            
            // Check if elements exist
            if (!sliderIntrinsiek || !sliderRelationeel || !sliderCompetentie) {
                console.error('Waardigheidsdriehoek: Sliders not found');
                return;
            }
            
            // Calculate vertex position based on score (0-10)
            function getVertexPosition(vertexName, score) {
                var vertex = vertices[vertexName];
                var ratio = score / 10;
                return {
                    x: center.x + (vertex.x - center.x) * ratio,
                    y: center.y + (vertex.y - center.y) * ratio
                };
            }
            
            // Update triangle visualization
            function updateTriangle() {
                var iVal = parseInt(sliderIntrinsiek.value, 10);
                var rVal = parseInt(sliderRelationeel.value, 10);
                var cVal = parseInt(sliderCompetentie.value, 10);
                
                // Update displayed values
                valueIntrinsiek.textContent = iVal;
                valueRelationeel.textContent = rVal;
                valueCompetentie.textContent = cVal;
                
                scoreIntrinsiek.textContent = iVal;
                scoreRelationeel.textContent = rVal;
                scoreCompetentie.textContent = cVal;
                
                // Update balance bars
                balanceIntrinsiek.style.width = (iVal * 10) + '%';
                balanceRelationeel.style.width = (rVal * 10) + '%';
                balanceCompetentie.style.width = (cVal * 10) + '%';
                
                // Calculate triangle points
                var p1 = getVertexPosition('intrinsiek', iVal);
                var p2 = getVertexPosition('relationeel', rVal);
                var p3 = getVertexPosition('competentie', cVal);
                
                var points = p1.x + ',' + p1.y + ' ' + p2.x + ',' + p2.y + ' ' + p3.x + ',' + p3.y;
                dynamicTriangle.setAttribute('points', points);
                dynamicTriangleStroke.setAttribute('points', points);
                
                // Generate insight
                updateInsight(iVal, rVal, cVal);
            }
            
            // Generate contextual insight
            function updateInsight(i, r, c) {
                var total = i + r + c;
                var insight = '';
                
                if (total === 0) {
                    insight = 'Een lege driehoek ‚Äî soms voelt het zo. Dat is ok√© om te erkennen.';
                } else if (total === 30) {
                    insight = 'Volle waardigheid op alle fronten. Een zeldzaam moment om te koesteren.';
                } else if (i >= 8 && r <= 3 && c <= 3) {
                    insight = 'Sterk in je mens-zijn, maar mogelijk eenzaam of zonder grip. Wat zou je nodig hebben van anderen?';
                } else if (r >= 8 && i <= 3 && c <= 3) {
                    insight = 'Je waardigheid hangt sterk af van erkenning. Wat zou helpen om die ook vanbinnen te voelen?';
                } else if (c >= 8 && i <= 3 && r <= 3) {
                    insight = 'Grip en bijdrage zijn sterk, maar de andere poten wiebelen. Pas op voor prestatie als enige meetlat.';
                } else if (c <= 3 && i >= 5 && r >= 5) {
                    insight = 'Mens-zijn en verbinding zijn er, maar grip ontbreekt. Dat kan voelen als drijven zonder richting.';
                } else if (r <= 3 && i >= 5 && c >= 5) {
                    insight = 'Intrinsiek sterk en vol competentie, maar wie ziet jou echt? Verbinding kan verrassend voedend zijn.';
                } else if (i <= 3 && r >= 5 && c >= 5) {
                    insight = 'Gezien worden en bijdragen lukt, maar vanbinnen wankelt iets. Mag je er zijn zonder te presteren?';
                } else if (Math.abs(i - r) <= 2 && Math.abs(r - c) <= 2 && Math.abs(i - c) <= 2) {
                    insight = 'Je driehoek is redelijk in balans. Geen perfectie nodig ‚Äî dit is een stevige basis.';
                } else {
                    var lowest = Math.min(i, r, c);
                    if (lowest === i) {
                        insight = 'Intrinsieke waardigheid scoort lager. Kun je jezelf toestaan "genoeg" te zijn, zonder bewijs?';
                    } else if (lowest === r) {
                        insight = 'Relationele waardigheid is de zwakkere poot. Wie zou jou kunnen zien zoals je bent?';
                    } else {
                        insight = 'Competentie scoort lager. Waar zou je kleine grip kunnen vinden ‚Äî iets kleins, iets van jou?';
                    }
                }
                
                insightText.textContent = insight;
            }
            
            // Reset function
            function resetAll() {
                sliderIntrinsiek.value = 5;
                sliderRelationeel.value = 5;
                sliderCompetentie.value = 5;
                
                var situation = document.getElementById('wddSituation');
                var refI = document.getElementById('wddReflectieIntrinsiek');
                var refR = document.getElementById('wddReflectieRelationeel');
                var refC = document.getElementById('wddReflectieCompetentie');
                
                if (situation) situation.value = '';
                if (refI) refI.value = '';
                if (refR) refR.value = '';
                if (refC) refC.value = '';
                
                updateTriangle();
            }
            
            // Add event listeners
            sliderIntrinsiek.addEventListener('input', updateTriangle);
            sliderRelationeel.addEventListener('input', updateTriangle);
            sliderCompetentie.addEventListener('input', updateTriangle);
            
            // Also listen for 'change' event (for older browsers)
            sliderIntrinsiek.addEventListener('change', updateTriangle);
            sliderRelationeel.addEventListener('change', updateTriangle);
            sliderCompetentie.addEventListener('change', updateTriangle);
            
            if (resetBtn) {
                resetBtn.addEventListener('click', resetAll);
            }
            
            // Initial render
            updateTriangle();
            
            console.log('Waardigheidsdriehoek initialized successfully');
        }
        
        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initWaardigheidsdriehoek);
        } else {
            initWaardigheidsdriehoek();
        }
    })();
    </script>
</body>
</html>
